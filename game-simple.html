<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ¯ çµ‚æ¥µå¯†ç¢¼ - ç°¡åŒ–ç‰ˆ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Arial', sans-serif;
      background: url('img/01.jpg') no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    /* æ·»åŠ ä¸€å€‹åŠé€æ˜çš„é®ç½©å±¤ï¼Œè®“æ–‡å­—æ›´å®¹æ˜“é–±è®€ */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.3);
      z-index: 0;
    }

    .game-card {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      text-align: center;
      max-width: 500px;
      width: 100%;
      position: relative;
      z-index: 1;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 255, 255, 0.3);
      animation: cardGlow 3s ease-in-out infinite alternate;
    }

    @keyframes cardGlow {
      0% {
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.1);
      }
      100% {
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 30px rgba(255, 255, 255, 0.3);
      }
    }

    .title {
      font-size: 2.5rem;
      font-weight: bold;
      background: linear-gradient(45deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .title-icon {
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      animation: iconPulse 2s ease-in-out infinite;
      overflow: hidden;
    }

    .title-icon img {
      width: 35px;
      height: 35px;
      object-fit: contain;
    }

    @keyframes iconPulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
    }

    .range-display {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      padding: 15px 30px;
      border-radius: 25px;
      font-size: 1.2rem;
      font-weight: bold;
      margin: 20px 0;
    }

    .input-section {
      margin: 30px 0;
    }

    .guess-input {
      width: 200px;
      padding: 15px 20px;
      border: 3px solid #ddd;
      border-radius: 25px;
      font-size: 1.1rem;
      text-align: center;
      outline: none;
      transition: all 0.3s ease;
      background: white;
    }

    .guess-input:focus {
      border-color: #667eea;
      box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
    }

    .guess-btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 15px 40px;
      border-radius: 25px;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      margin-left: 15px;
      transition: all 0.3s ease;
    }

    .guess-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 30px rgba(102, 126, 234, 0.4);
    }



    .message {
      margin: 20px 0;
      padding: 15px 25px;
      border-radius: 15px;
      font-size: 1.1rem;
      font-weight: bold;
      min-height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .message.success {
      background: linear-gradient(135deg, #4ecdc4, #44a08d);
      color: white;
    }

    .message.error {
      background: linear-gradient(135deg, #ff6b6b, #ee5a52);
      color: white;
    }

    .message.hint {
      background: linear-gradient(135deg, #feca57, #ff9ff3);
      color: white;
    }

    .stats {
      display: flex;
      justify-content: space-around;
      margin: 30px 0;
    }

    .stat-item {
      background: rgba(255, 255, 255, 0.9);
      padding: 15px 25px;
      border-radius: 15px;
      margin: 10px;
    }

    .stat-value {
      font-size: 1.5rem;
      font-weight: bold;
      color: #667eea;
    }

    .stat-label {
      font-size: 0.9rem;
      color: #666;
      margin-top: 5px;
    }

    .restart-btn {
      background: linear-gradient(135deg, #ffb347, #ffa726);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 20px;
      font-size: 1rem;
      cursor: pointer;
      margin-top: 20px;
      transition: all 0.3s ease;
      opacity: 0;
    }

    .restart-btn.show {
      opacity: 1;
    }

    .restart-btn:hover {
      transform: translateY(-2px);
    }

    .debug-info {
      position: fixed;
      top: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 10px;
      border-radius: 5px;
      font-size: 12px;
      z-index: 1000;
      backdrop-filter: blur(5px);
    }
  </style>
</head>
<body>
  <!-- èª¿è©¦ä¿¡æ¯ -->
  <div class="debug-info" id="debugInfo">
    éŠæˆ²ç‹€æ…‹: è¼‰å…¥ä¸­...
  </div>

  <div class="game-card">
    <h1 class="title">
      <div class="title-icon">
        <img src="img/02.png" alt="éŠæˆ²åœ–æ¨™">
      </div>
      çµ‚æ¥µå¯†ç¢¼
    </h1>
         <p id="encourageText" style="color: #666; margin-bottom: 20px;">ä½ è¡Œä½ ä¾†çŒœ</p>
    
         <div class="range-display" id="range">
       ç›®å‰ç¯„åœï¼š1 ~ 200
     </div>

        <div class="input-section">
      <input type="number" id="guessInput" class="guess-input" placeholder="è¼¸å…¥ä½ çš„æ•¸å­—" min="1" max="200">
      <button onclick="guess()" class="guess-btn">ğŸ” çŒœæ¸¬</button>
    </div>

    <div class="message" id="message">
      æº–å‚™é–‹å§‹ä½ çš„ç¥ç§˜æ•¸å­—ä¹‹æ—…ï¼
    </div>

    <div class="stats">
      <div class="stat-item">
        <div class="stat-value" id="attempts">0</div>
        <div class="stat-label">çŒœæ¸¬æ¬¡æ•¸</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="bestScore">-</div>
        <div class="stat-label">æœ€ä½³è¨˜éŒ„</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="gamesPlayed">0</div>
        <div class="stat-label">éŠæˆ²æ¬¡æ•¸</div>
      </div>
    </div>

    <button onclick="restartGame()" class="restart-btn" id="restartBtn">é‡æ–°é–‹å§‹</button>
  </div>

  <script>
    // èª¿è©¦åŠŸèƒ½
    function updateDebugInfo(message) {
      const debugInfo = document.getElementById('debugInfo');
      if (debugInfo) {
        debugInfo.textContent = message;
      }
      console.log(message);
    }

    // éŠæˆ²è®Šæ•¸
    let low = 1;
    let high = 200;
    let answer = Math.floor(Math.random() * (high - low - 1)) + low + 1;
    let attempts = 0;
    let gamesPlayed = 0;
    let bestScore = localStorage.getItem('bestScore') || '-';

    updateDebugInfo('éŠæˆ²åˆå§‹åŒ–å®Œæˆ');

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      updateDebugInfo('DOMè¼‰å…¥å®Œæˆï¼Œé–‹å§‹åˆå§‹åŒ–...');
      
      try {
        updateStats();
        
        // ç¢ºä¿è¼¸å…¥æ¡†å¯ä»¥æ­£å¸¸ä½¿ç”¨
        const input = document.getElementById("guessInput");
        if (input) {
          input.disabled = false;
          input.readOnly = false;
          input.focus();
          
          // æ·»åŠ éµç›¤äº‹ä»¶
          input.addEventListener("keypress", function(e) {
            if (e.key === "Enter") {
              guess();
            }
          });
          
          updateDebugInfo('è¼¸å…¥æ¡†è¨­ç½®å®Œæˆ');
        } else {
          updateDebugInfo('éŒ¯èª¤: æ‰¾ä¸åˆ°è¼¸å…¥æ¡†å…ƒç´ ');
        }
        
        updateDebugInfo('éŠæˆ²åˆå§‹åŒ–å®Œæˆï¼Œå¯ä»¥é–‹å§‹éŠæˆ²ï¼');
      } catch (error) {
        updateDebugInfo('åˆå§‹åŒ–éŒ¯èª¤: ' + error.message);
        console.error('åˆå§‹åŒ–éŒ¯èª¤:', error);
      }
    });

    // çŒœæ¸¬å‡½æ•¸
    function guess() {
      updateDebugInfo('åŸ·è¡ŒçŒœæ¸¬å‡½æ•¸');
      
      const input = document.getElementById("guessInput");
      if (!input) {
        updateDebugInfo('éŒ¯èª¤: æ‰¾ä¸åˆ°è¼¸å…¥æ¡†');
        return;
      }
      
      const guessNum = parseInt(input.value);
      const rangeDisplay = document.getElementById("range");

      updateDebugInfo('çŒœæ¸¬æ•¸å­—: ' + guessNum);

      if (isNaN(guessNum)) {
        showMessage("âš ï¸ è«‹è¼¸å…¥æœ‰æ•ˆçš„æ•¸å­—ï¼", "error");
        updateDebugInfo('è¼¸å…¥ç„¡æ•ˆæ•¸å­—');
        return;
      }

      if (guessNum <= low || guessNum >= high) {
        showMessage("âŒ é€™å€‹æ•¸å­—ä¸åœ¨ç¯„åœå…§ï¼Œè«‹å†è©¦ä¸€æ¬¡ï¼", "error");
        updateDebugInfo('æ•¸å­—è¶…å‡ºç¯„åœ');
        return;
      }

           attempts++;
     updateStats();
     updateEncourageText();

      if (guessNum === answer) {
        gamesPlayed++;
        showMessage("ğŸ‰ ç­”å°äº†ï¼ä½ ä¹ŸçŒœå¤ªä¹… ? ? ?", "success");
        showRestartButton();
        updateBestScore();
        updateDebugInfo('éŠæˆ²å‹åˆ©ï¼');
      } else if (guessNum > answer) {
        high = guessNum;
        showMessage(`ğŸ‘‰ å¤ªå¤§äº†ï¼æ–°ç¯„åœï¼š${low} ~ ${high}`, "hint");
        updateDebugInfo('çŒœæ¸¬å¤ªå¤§ï¼Œæ–°ç¯„åœ: ' + low + ' ~ ' + high);
      } else {
        low = guessNum;
        showMessage(`ğŸ‘‰ å¤ªå°äº†ï¼æ–°ç¯„åœï¼š${low} ~ ${high}`, "hint");
        updateDebugInfo('çŒœæ¸¬å¤ªå°ï¼Œæ–°ç¯„åœ: ' + low + ' ~ ' + high);
      }

      rangeDisplay.textContent = `ç›®å‰ç¯„åœï¼š${low} ~ ${high}`;
      input.value = "";
      input.focus();
    }

    // é¡¯ç¤ºæ¶ˆæ¯
    function showMessage(text, type) {
      const msg = document.getElementById("message");
      if (msg) {
        msg.textContent = text;
        msg.className = `message ${type}`;
      }
    }

    // æ›´æ–°çµ±è¨ˆ
    function updateStats() {
      const attemptsEl = document.getElementById("attempts");
      const gamesPlayedEl = document.getElementById("gamesPlayed");
      const bestScoreEl = document.getElementById("bestScore");
      
      if (attemptsEl) attemptsEl.textContent = attempts;
      if (gamesPlayedEl) gamesPlayedEl.textContent = gamesPlayed;
      if (bestScoreEl) bestScoreEl.textContent = bestScore;
    }

    // æ›´æ–°é¼“å‹µæ–‡å­—
    function updateEncourageText() {
      const encourageEl = document.getElementById("encourageText");
      if (!encourageEl) return;
      
      const encourageMessages = [
        "ä½ è¡Œä½ ä¾†çŒœ", // 0æ¬¡ï¼ˆåˆå§‹ï¼‰
        "å·®ä¸€é»äº†ï¼Ÿï¼", // 1æ¬¡ - å‚¬ä¿ƒ
        "ä½ è¡Œå—ï¼Ÿ", // 2æ¬¡ - å‚¬ä¿ƒ
        "èªçœŸï¼Ÿ", // 3æ¬¡ - å‚¬ä¿ƒ
        "é‚„æ²’æ‰¾åˆ°ï¼Ÿ", // 4æ¬¡ - èª¿ä¾ƒ
        "ä½ æ˜¯ä¸æ˜¯æ•…æ„çš„ï¼Ÿ", // 5æ¬¡ - èª¿ä¾ƒ
        "æˆ‘é–‹å§‹æ‡·ç–‘ä½ äº†", // 6æ¬¡ - èª¿ä¾ƒ
        "ç®—äº†ï¼Œéš¨ä¾¿ä½ ", // 7æ¬¡ - ç„¡å¥ˆ
        "æˆ‘å·²ç¶“ç´¯äº†", // 8æ¬¡ - ç„¡å¥ˆ
        "æˆ‘æ”¾æ£„äº†...", // 9æ¬¡ - æ”¾æ£„
        "å†è¦‹ï¼Œæˆ‘å…ˆèµ°äº†" // 10æ¬¡ - æ”¾æ£„
      ];
      
      let text;
      if (attempts > 10) {
        text = "æ™šå®‰é¦¬å¡å·´å¡";
      } else {
        let messageIndex = attempts;
        if (messageIndex >= encourageMessages.length) {
          messageIndex = encourageMessages.length - 1;
        }
        text = encourageMessages[messageIndex];
      }
      
      encourageEl.textContent = text;
    }

    // æ›´æ–°æœ€ä½³è¨˜éŒ„
    function updateBestScore() {
      if (bestScore === '-' || attempts < parseInt(bestScore)) {
        bestScore = attempts.toString();
        localStorage.setItem('bestScore', bestScore);
        updateStats();
      }
    }

    // é¡¯ç¤ºé‡æ–°é–‹å§‹æŒ‰éˆ•
    function showRestartButton() {
      const restartBtn = document.getElementById("restartBtn");
      if (restartBtn) {
        restartBtn.classList.add("show");
      }
    }

    // é‡æ–°é–‹å§‹éŠæˆ²
    function restartGame() {
      updateDebugInfo('é‡æ–°é–‹å§‹éŠæˆ²');
      
             low = 1;
       high = 200;
      answer = Math.floor(Math.random() * (high - low - 1)) + low + 1;
      attempts = 0;
      
             const rangeEl = document.getElementById("range");
       const messageEl = document.getElementById("message");
       const inputEl = document.getElementById("guessInput");
       const restartBtn = document.getElementById("restartBtn");
       const encourageEl = document.getElementById("encourageText");
       
              if (rangeEl) rangeEl.textContent = "ç›®å‰ç¯„åœï¼š1 ~ 200";
       if (messageEl) {
         messageEl.textContent = "æº–å‚™é–‹å§‹ä½ çš„ç¥ç§˜æ•¸å­—ä¹‹æ—…ï¼";
         messageEl.className = "message";
       }
       if (inputEl) inputEl.value = "";
       if (restartBtn) restartBtn.classList.remove("show");
       if (encourageEl) encourageEl.textContent = "ä½ è¡Œä½ ä¾†çŒœ";
      
      updateStats();
      updateDebugInfo('éŠæˆ²é‡æ–°é–‹å§‹å®Œæˆ');
    }

    // ç¢ºä¿å‡½æ•¸åœ¨å…¨å±€ç¯„åœå…§å¯ç”¨
    window.guess = guess;
    window.restartGame = restartGame;
  </script>
</body>
</html>
